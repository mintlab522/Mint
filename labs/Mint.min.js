var whale=function(){function e(a,b){return e.addElements(a,b)}function h(a,b){for(var c=0,f=a.length;c<f&&!1!==b.call(a[c],c,a[c]);c++);return a}function k(a){return a.trim()}function m(a){return(" "+(a.getAttribute("class")||"")+" ").replace(/[\t\r\n\f]/g," ")}function n(a,b){return-1<m(a).indexOf(b)}function l(a,b){var c=m(a);h(b.split(" "),function(b,g){g=k(g);n(a,g)||(c+=g+" ")});a.setAttribute("class",k(c))}function p(a,b){h(b.split(" "),function(c,b){a.setAttribute("class",k(m(a).replace(" "+
k(b)+" "," ")))})}function d(a,b){h(b.split(" "),function(c,b){(n(a,b)?p:l)(a,b)})}e.extend=function(a){var b,c,f=1,g=arguments.length;f===g&&(a=this,f--);for(;f<g;f++)if(null!=(b=arguments[f]))for(c in b){var d=b[c];var e=a[c];d!==e&&(a[c]=d)}return a};h([l,p,d],function(a,b){b.collection=function(a,f){h(a,function(a,c){b(c,f)})}});e.components={};e.addElements=function(a,b){var c;if(b)e.components[a]=b;else for(c in a)e.components[c]=a[c];return this};e.extend({trim:k,forEach:h,hasClass:n,addClass:l,
removeClass:p,toggleClass:d});window.addEventListener("load",function(){var a,b=e.components;for(a in b)for(var c=0,f=document.querySelectorAll("."+a),g=f.length,d=b[a];c<g;c++)new d(f[c],c,a)});return e}();
(function(){function e(d){var a=this.classes;whale.forEach(d.querySelectorAll("a"),function(b,c){var f=c.parentNode,d=f.querySelectorAll("ul"),e=f.querySelectorAll("a"),h=d[0];d.length&&(whale.addClass(f,a.parent),c.addEventListener("click",function(b){b.preventDefault();whale.hasClass(h,a.active)?(whale.removeClass.collection(d,a.active),whale.removeClass.collection(e,a.active)):whale.addClass.collection([c,h],a.active)}))})}function h(d){var a=this.classes,b=d.querySelectorAll("."+a.item),c=d.querySelectorAll("."+
a.panel);b.length&&whale.forEach(b,function(f,g){var e=g.href.split("#")[1],h=d.querySelector("#"+e);h&&(whale.hasClass(h,a.active)&&whale.addClass(g,a.active),g.addEventListener("click",function(d){d.preventDefault();whale.forEach([b,c],function(b,c){whale.removeClass.collection(c,a.active)});whale.addClass.collection([g,h],a.active)}))})}function k(d){var a=this.classes,b=d.getAttribute(this.data.target),c=document.getElementById(b);d.addEventListener("click",function(b){b.preventDefault();if(whale.hasClass(c,
a.active))whale.removeClass.collection([d,c],a.active);else{whale.addClass.collection([d,c],a.active);var f=function(e){var g=e.target;e===b||g===c||c.contains(g)||(whale.removeClass.collection([d,c],a.active),document.removeEventListener("click",f))};document.addEventListener("click",f)}})}function m(d){var a=this.classes,b=d.querySelector("."+a.button),c=d.querySelector("."+a.content),f=a.active;whale.hasClass(c,f)&&whale.addClass(b,f);b.addEventListener("click",function(){whale.toggleClass.collection([b,
c],f)})}function n(d){var a=this.defaults,b=a.width;a=a.height;var c="right="+(screen.width-b)/2+",top="+(screen.height-a)/2+",width="+b+",height="+a;d.addEventListener("click",function(a){a.preventDefault();window.open(this.href,this.target,c)})}e.prototype={classes:{active:"is-active",parent:"is-parent"}};h.prototype.classes={item:"wjs-item",panel:"wjs-panel",active:"is-active"};var l=k.prototype={classes:{active:"is-active"},data:{target:"data-target"}},p={};whale.forEach(["addClass","removeClass",
"toggleClass"],function(d,a){p[a]=function(b){var c,d=b.getAttribute(l.data.target),e=document.querySelectorAll("."+d);e&&b.addEventListener("click",function(){c=whale[a];c(b,l.classes.active);c.collection(e,l.classes.active)})}});m.prototype={classes:{active:"is-active",content:"wjs-container",button:"wjs-button"}};n.prototype={defaults:{width:600,height:400}};whale.addElements(p).addElements({"wjs-menu":e,"wjs-tab":h,"wjs-spoiler":m,"wjs-outsite":k,"wjs-window":n})})();
